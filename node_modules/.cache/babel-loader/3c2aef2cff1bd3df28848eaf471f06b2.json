{"ast":null,"code":"/*! store2 - v2.12.0 - 2020-08-12\n* Copyright (c) 2020 Nathan Bubna; Licensed (MIT OR GPL-3.0) */\n;\n\n(function (window, define) {\n  var _ = {\n    version: \"2.12.0\",\n    areas: {},\n    apis: {},\n    // utilities\n    inherit: function (api, o) {\n      for (var p in api) {\n        if (!o.hasOwnProperty(p)) {\n          Object.defineProperty(o, p, Object.getOwnPropertyDescriptor(api, p));\n        }\n      }\n\n      return o;\n    },\n    stringify: function (d) {\n      return d === undefined || typeof d === \"function\" ? d + '' : JSON.stringify(d);\n    },\n    parse: function (s, fn) {\n      // if it doesn't parse, return as is\n      try {\n        return JSON.parse(s, fn || _.revive);\n      } catch (e) {\n        return s;\n      }\n    },\n    // extension hooks\n    fn: function (name, fn) {\n      _.storeAPI[name] = fn;\n\n      for (var api in _.apis) {\n        _.apis[api][name] = fn;\n      }\n    },\n    get: function (area, key) {\n      return area.getItem(key);\n    },\n    set: function (area, key, string) {\n      area.setItem(key, string);\n    },\n    remove: function (area, key) {\n      area.removeItem(key);\n    },\n    key: function (area, i) {\n      return area.key(i);\n    },\n    length: function (area) {\n      return area.length;\n    },\n    clear: function (area) {\n      area.clear();\n    },\n    // core functions\n    Store: function (id, area, namespace) {\n      var store = _.inherit(_.storeAPI, function (key, data, overwrite) {\n        if (arguments.length === 0) {\n          return store.getAll();\n        }\n\n        if (typeof data === \"function\") {\n          return store.transact(key, data, overwrite);\n        } // fn=data, alt=overwrite\n\n\n        if (data !== undefined) {\n          return store.set(key, data, overwrite);\n        }\n\n        if (typeof key === \"string\" || typeof key === \"number\") {\n          return store.get(key);\n        }\n\n        if (typeof key === \"function\") {\n          return store.each(key);\n        }\n\n        if (!key) {\n          return store.clear();\n        }\n\n        return store.setAll(key, data); // overwrite=data, data=key\n      });\n\n      store._id = id;\n\n      try {\n        var testKey = '__store2_test';\n        area.setItem(testKey, 'ok');\n        store._area = area;\n        area.removeItem(testKey);\n      } catch (e) {\n        store._area = _.storage('fake');\n      }\n\n      store._ns = namespace || '';\n\n      if (!_.areas[id]) {\n        _.areas[id] = store._area;\n      }\n\n      if (!_.apis[store._ns + store._id]) {\n        _.apis[store._ns + store._id] = store;\n      }\n\n      return store;\n    },\n    storeAPI: {\n      // admin functions\n      area: function (id, area) {\n        var store = this[id];\n\n        if (!store || !store.area) {\n          store = _.Store(id, area, this._ns); //new area-specific api in this namespace\n\n          if (!this[id]) {\n            this[id] = store;\n          }\n        }\n\n        return store;\n      },\n      namespace: function (namespace, singleArea) {\n        if (!namespace) {\n          return this._ns ? this._ns.substring(0, this._ns.length - 1) : '';\n        }\n\n        var ns = namespace,\n            store = this[ns];\n\n        if (!store || !store.namespace) {\n          store = _.Store(this._id, this._area, this._ns + ns + '.'); //new namespaced api\n\n          if (!this[ns]) {\n            this[ns] = store;\n          }\n\n          if (!singleArea) {\n            for (var name in _.areas) {\n              store.area(name, _.areas[name]);\n            }\n          }\n        }\n\n        return store;\n      },\n      isFake: function () {\n        return this._area.name === 'fake';\n      },\n      toString: function () {\n        return 'store' + (this._ns ? '.' + this.namespace() : '') + '[' + this._id + ']';\n      },\n      // storage functions\n      has: function (key) {\n        if (this._area.has) {\n          return this._area.has(this._in(key)); //extension hook\n        }\n\n        return !!(this._in(key) in this._area);\n      },\n      size: function () {\n        return this.keys().length;\n      },\n      each: function (fn, fill) {\n        // fill is used by keys(fillList) and getAll(fillList))\n        for (var i = 0, m = _.length(this._area); i < m; i++) {\n          var key = this._out(_.key(this._area, i));\n\n          if (key !== undefined) {\n            if (fn.call(this, key, this.get(key), fill) === false) {\n              break;\n            }\n          }\n\n          if (m > _.length(this._area)) {\n            m--;\n            i--;\n          } // in case of removeItem\n\n        }\n\n        return fill || this;\n      },\n      keys: function (fillList) {\n        return this.each(function (k, v, list) {\n          list.push(k);\n        }, fillList || []);\n      },\n      get: function (key, alt) {\n        var s = _.get(this._area, this._in(key)),\n            fn;\n\n        if (typeof alt === \"function\") {\n          fn = alt;\n          alt = null;\n        }\n\n        return s !== null ? _.parse(s, fn) : alt != null ? alt : s;\n      },\n      getAll: function (fillObj) {\n        return this.each(function (k, v, all) {\n          all[k] = v;\n        }, fillObj || {});\n      },\n      transact: function (key, fn, alt) {\n        var val = this.get(key, alt),\n            ret = fn(val);\n        this.set(key, ret === undefined ? val : ret);\n        return this;\n      },\n      set: function (key, data, overwrite) {\n        var d = this.get(key);\n\n        if (d != null && overwrite === false) {\n          return data;\n        }\n\n        return _.set(this._area, this._in(key), _.stringify(data), overwrite) || d;\n      },\n      setAll: function (data, overwrite) {\n        var changed, val;\n\n        for (var key in data) {\n          val = data[key];\n\n          if (this.set(key, val, overwrite) !== val) {\n            changed = true;\n          }\n        }\n\n        return changed;\n      },\n      add: function (key, data) {\n        var d = this.get(key);\n\n        if (d instanceof Array) {\n          data = d.concat(data);\n        } else if (d !== null) {\n          var type = typeof d;\n\n          if (type === typeof data && type === 'object') {\n            for (var k in data) {\n              d[k] = data[k];\n            }\n\n            data = d;\n          } else {\n            data = d + data;\n          }\n        }\n\n        _.set(this._area, this._in(key), _.stringify(data));\n\n        return data;\n      },\n      remove: function (key, alt) {\n        var d = this.get(key, alt);\n\n        _.remove(this._area, this._in(key));\n\n        return d;\n      },\n      clear: function () {\n        if (!this._ns) {\n          _.clear(this._area);\n        } else {\n          this.each(function (k) {\n            _.remove(this._area, this._in(k));\n          }, 1);\n        }\n\n        return this;\n      },\n      clearAll: function () {\n        var area = this._area;\n\n        for (var id in _.areas) {\n          if (_.areas.hasOwnProperty(id)) {\n            this._area = _.areas[id];\n            this.clear();\n          }\n        }\n\n        this._area = area;\n        return this;\n      },\n      // internal use functions\n      _in: function (k) {\n        if (typeof k !== \"string\") {\n          k = _.stringify(k);\n        }\n\n        return this._ns ? this._ns + k : k;\n      },\n      _out: function (k) {\n        return this._ns ? k && k.indexOf(this._ns) === 0 ? k.substring(this._ns.length) : undefined : // so each() knows to skip it\n        k;\n      }\n    },\n    // end _.storeAPI\n    storage: function (name) {\n      return _.inherit(_.storageAPI, {\n        items: {},\n        name: name\n      });\n    },\n    storageAPI: {\n      length: 0,\n      has: function (k) {\n        return this.items.hasOwnProperty(k);\n      },\n      key: function (i) {\n        var c = 0;\n\n        for (var k in this.items) {\n          if (this.has(k) && i === c++) {\n            return k;\n          }\n        }\n      },\n      setItem: function (k, v) {\n        if (!this.has(k)) {\n          this.length++;\n        }\n\n        this.items[k] = v;\n      },\n      removeItem: function (k) {\n        if (this.has(k)) {\n          delete this.items[k];\n          this.length--;\n        }\n      },\n      getItem: function (k) {\n        return this.has(k) ? this.items[k] : null;\n      },\n      clear: function () {\n        for (var k in this.items) {\n          this.removeItem(k);\n        }\n      }\n    } // end _.storageAPI\n\n  };\n\n  var store = // safely set this up (throws error in IE10/32bit mode for local files)\n  _.Store(\"local\", function () {\n    try {\n      return localStorage;\n    } catch (e) {}\n  }());\n\n  store.local = store; // for completeness\n\n  store._ = _; // for extenders and debuggers...\n  // safely setup store.session (throws exception in FF for file:/// urls)\n\n  store.area(\"session\", function () {\n    try {\n      return sessionStorage;\n    } catch (e) {}\n  }());\n  store.area(\"page\", _.storage(\"page\"));\n\n  if (typeof define === 'function' && define.amd !== undefined) {\n    define('store2', [], function () {\n      return store;\n    });\n  } else if (typeof module !== 'undefined' && module.exports) {\n    module.exports = store;\n  } else {\n    // expose the primary store fn to the global object and save conflicts\n    if (window.store) {\n      _.conflict = window.store;\n    }\n\n    window.store = store;\n  }\n})(this, this && this.define);","map":{"version":3,"sources":["/Users/ed/Projects/n3-ftw/client/node_modules/store2/dist/store2.js"],"names":["window","define","_","version","areas","apis","inherit","api","o","p","hasOwnProperty","Object","defineProperty","getOwnPropertyDescriptor","stringify","d","undefined","JSON","parse","s","fn","revive","e","name","storeAPI","get","area","key","getItem","set","string","setItem","remove","removeItem","i","length","clear","Store","id","namespace","store","data","overwrite","arguments","getAll","transact","each","setAll","_id","testKey","_area","storage","_ns","singleArea","substring","ns","isFake","toString","has","_in","size","keys","fill","m","_out","call","fillList","k","v","list","push","alt","fillObj","all","val","ret","changed","add","Array","concat","type","clearAll","indexOf","storageAPI","items","c","localStorage","local","sessionStorage","amd","module","exports","conflict"],"mappings":"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","sourcesContent":["/*! store2 - v2.12.0 - 2020-08-12\n* Copyright (c) 2020 Nathan Bubna; Licensed (MIT OR GPL-3.0) */\n;(function(window, define) {\n    var _ = {\n        version: \"2.12.0\",\n        areas: {},\n        apis: {},\n\n        // utilities\n        inherit: function(api, o) {\n            for (var p in api) {\n                if (!o.hasOwnProperty(p)) {\n                    Object.defineProperty(o, p, Object.getOwnPropertyDescriptor(api, p));\n                }\n            }\n            return o;\n        },\n        stringify: function(d) {\n            return d === undefined || typeof d === \"function\" ? d+'' : JSON.stringify(d);\n        },\n        parse: function(s, fn) {\n            // if it doesn't parse, return as is\n            try{ return JSON.parse(s,fn||_.revive); }catch(e){ return s; }\n        },\n\n        // extension hooks\n        fn: function(name, fn) {\n            _.storeAPI[name] = fn;\n            for (var api in _.apis) {\n                _.apis[api][name] = fn;\n            }\n        },\n        get: function(area, key){ return area.getItem(key); },\n        set: function(area, key, string){ area.setItem(key, string); },\n        remove: function(area, key){ area.removeItem(key); },\n        key: function(area, i){ return area.key(i); },\n        length: function(area){ return area.length; },\n        clear: function(area){ area.clear(); },\n\n        // core functions\n        Store: function(id, area, namespace) {\n            var store = _.inherit(_.storeAPI, function(key, data, overwrite) {\n                if (arguments.length === 0){ return store.getAll(); }\n                if (typeof data === \"function\"){ return store.transact(key, data, overwrite); }// fn=data, alt=overwrite\n                if (data !== undefined){ return store.set(key, data, overwrite); }\n                if (typeof key === \"string\" || typeof key === \"number\"){ return store.get(key); }\n                if (typeof key === \"function\"){ return store.each(key); }\n                if (!key){ return store.clear(); }\n                return store.setAll(key, data);// overwrite=data, data=key\n            });\n            store._id = id;\n            try {\n                var testKey = '__store2_test';\n                area.setItem(testKey, 'ok');\n                store._area = area;\n                area.removeItem(testKey);\n            } catch (e) {\n                store._area = _.storage('fake');\n            }\n            store._ns = namespace || '';\n            if (!_.areas[id]) {\n                _.areas[id] = store._area;\n            }\n            if (!_.apis[store._ns+store._id]) {\n                _.apis[store._ns+store._id] = store;\n            }\n            return store;\n        },\n        storeAPI: {\n            // admin functions\n            area: function(id, area) {\n                var store = this[id];\n                if (!store || !store.area) {\n                    store = _.Store(id, area, this._ns);//new area-specific api in this namespace\n                    if (!this[id]){ this[id] = store; }\n                }\n                return store;\n            },\n            namespace: function(namespace, singleArea) {\n                if (!namespace){\n                    return this._ns ? this._ns.substring(0,this._ns.length-1) : '';\n                }\n                var ns = namespace, store = this[ns];\n                if (!store || !store.namespace) {\n                    store = _.Store(this._id, this._area, this._ns+ns+'.');//new namespaced api\n                    if (!this[ns]){ this[ns] = store; }\n                    if (!singleArea) {\n                        for (var name in _.areas) {\n                            store.area(name, _.areas[name]);\n                        }\n                    }\n                }\n                return store;\n            },\n            isFake: function(){ return this._area.name === 'fake'; },\n            toString: function() {\n                return 'store'+(this._ns?'.'+this.namespace():'')+'['+this._id+']';\n            },\n\n            // storage functions\n            has: function(key) {\n                if (this._area.has) {\n                    return this._area.has(this._in(key));//extension hook\n                }\n                return !!(this._in(key) in this._area);\n            },\n            size: function(){ return this.keys().length; },\n            each: function(fn, fill) {// fill is used by keys(fillList) and getAll(fillList))\n                for (var i=0, m=_.length(this._area); i<m; i++) {\n                    var key = this._out(_.key(this._area, i));\n                    if (key !== undefined) {\n                        if (fn.call(this, key, this.get(key), fill) === false) {\n                            break;\n                        }\n                    }\n                    if (m > _.length(this._area)) { m--; i--; }// in case of removeItem\n                }\n                return fill || this;\n            },\n            keys: function(fillList) {\n                return this.each(function(k, v, list){ list.push(k); }, fillList || []);\n            },\n            get: function(key, alt) {\n                var s = _.get(this._area, this._in(key)),\n                    fn;\n                if (typeof alt === \"function\") {\n                    fn = alt;\n                    alt = null;\n                }\n                return s !== null ? _.parse(s, fn) :\n                    alt != null ? alt : s;\n            },\n            getAll: function(fillObj) {\n                return this.each(function(k, v, all){ all[k] = v; }, fillObj || {});\n            },\n            transact: function(key, fn, alt) {\n                var val = this.get(key, alt),\n                    ret = fn(val);\n                this.set(key, ret === undefined ? val : ret);\n                return this;\n            },\n            set: function(key, data, overwrite) {\n                var d = this.get(key);\n                if (d != null && overwrite === false) {\n                    return data;\n                }\n                return _.set(this._area, this._in(key), _.stringify(data), overwrite) || d;\n            },\n            setAll: function(data, overwrite) {\n                var changed, val;\n                for (var key in data) {\n                    val = data[key];\n                    if (this.set(key, val, overwrite) !== val) {\n                        changed = true;\n                    }\n                }\n                return changed;\n            },\n            add: function(key, data) {\n                var d = this.get(key);\n                if (d instanceof Array) {\n                    data = d.concat(data);\n                } else if (d !== null) {\n                    var type = typeof d;\n                    if (type === typeof data && type === 'object') {\n                        for (var k in data) {\n                            d[k] = data[k];\n                        }\n                        data = d;\n                    } else {\n                        data = d + data;\n                    }\n                }\n                _.set(this._area, this._in(key), _.stringify(data));\n                return data;\n            },\n            remove: function(key, alt) {\n                var d = this.get(key, alt);\n                _.remove(this._area, this._in(key));\n                return d;\n            },\n            clear: function() {\n                if (!this._ns) {\n                    _.clear(this._area);\n                } else {\n                    this.each(function(k){ _.remove(this._area, this._in(k)); }, 1);\n                }\n                return this;\n            },\n            clearAll: function() {\n                var area = this._area;\n                for (var id in _.areas) {\n                    if (_.areas.hasOwnProperty(id)) {\n                        this._area = _.areas[id];\n                        this.clear();\n                    }\n                }\n                this._area = area;\n                return this;\n            },\n\n            // internal use functions\n            _in: function(k) {\n                if (typeof k !== \"string\"){ k = _.stringify(k); }\n                return this._ns ? this._ns + k : k;\n            },\n            _out: function(k) {\n                return this._ns ?\n                    k && k.indexOf(this._ns) === 0 ?\n                        k.substring(this._ns.length) :\n                        undefined : // so each() knows to skip it\n                    k;\n            }\n        },// end _.storeAPI\n        storage: function(name) {\n            return _.inherit(_.storageAPI, { items: {}, name: name });\n        },\n        storageAPI: {\n            length: 0,\n            has: function(k){ return this.items.hasOwnProperty(k); },\n            key: function(i) {\n                var c = 0;\n                for (var k in this.items){\n                    if (this.has(k) && i === c++) {\n                        return k;\n                    }\n                }\n            },\n            setItem: function(k, v) {\n                if (!this.has(k)) {\n                    this.length++;\n                }\n                this.items[k] = v;\n            },\n            removeItem: function(k) {\n                if (this.has(k)) {\n                    delete this.items[k];\n                    this.length--;\n                }\n            },\n            getItem: function(k){ return this.has(k) ? this.items[k] : null; },\n            clear: function(){ for (var k in this.items){ this.removeItem(k); } }\n        }// end _.storageAPI\n    };\n\n    var store =\n        // safely set this up (throws error in IE10/32bit mode for local files)\n        _.Store(\"local\", (function(){try{ return localStorage; }catch(e){}})());\n    store.local = store;// for completeness\n    store._ = _;// for extenders and debuggers...\n    // safely setup store.session (throws exception in FF for file:/// urls)\n    store.area(\"session\", (function(){try{ return sessionStorage; }catch(e){}})());\n    store.area(\"page\", _.storage(\"page\"));\n\n    if (typeof define === 'function' && define.amd !== undefined) {\n        define('store2', [], function () {\n            return store;\n        });\n    } else if (typeof module !== 'undefined' && module.exports) {\n        module.exports = store;\n    } else {\n        // expose the primary store fn to the global object and save conflicts\n        if (window.store){ _.conflict = window.store; }\n        window.store = store;\n    }\n\n})(this, this && this.define);\n"]},"metadata":{},"sourceType":"script"}